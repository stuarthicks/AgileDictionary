<!DOCTYPE html>
<html>
    <head>
        <title>Agile Dictionary</title>
        <script type='text/javascript'>
            function loadJSON(filePath) {
                var client = new XMLHttpRequest();
                client.open('GET', filepath);
                client.onreadystatechange = function() {
                    return JSON.parse(client.responseText);
                }
            }
            var yuriy = loadJSON('yuriy-zubarev.json');

            function pickRandomProperty(obj) {
                var result;
                var count = 0;
                for (var prop in obj)
                    if (Math.random() < 1/++count)
                        result = prop;
                return result;
            }

            function getRandomDefinition() {
                for (var key in yuriy) {
                    if (!yuriy.hasOwnProperty(key)) continue;
                    if (key == 'definitions') {
                        return pickRandomProperty(key);
                    }
                }
            }
        </script>
    </head>
</html>
